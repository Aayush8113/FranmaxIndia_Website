"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[2867],{2694:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var s=n(9379),i=n(5043),r=n(8537),c=n(3862),a=n(579);const d=()=>{const[e,t]=(0,i.useState)([]),[n,d]=(0,i.useState)({});(0,i.useEffect)(()=>{fetch((0,c.e)("get-marketing-inquiries.php")).then(e=>e.json()).then(e=>{"success"===e.status&&t(e.inquiries)})},[]);const l=async(e,t)=>{var i;if(!(null===(i=n[e])||void 0===i?void 0:i[t]))try{await fetch((0,c.e)("log-marketing-view.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inquiry_id:e,role_id:1,user_id:1,field:t})}),d(n=>(0,s.A)((0,s.A)({},n),{},{[e]:(0,s.A)((0,s.A)({},n[e]),{},{[t]:!0})}))}catch(r){console.error("Failed to log view:",r)}};return(0,a.jsxs)("div",{className:"snb-marketing-page",children:[(0,a.jsx)(r.A,{}),(0,a.jsxs)("div",{className:"snb-marketing-content",children:[(0,a.jsx)("h2",{className:"snb-marketing-title",children:"Marketing Inquiries"}),(0,a.jsx)("div",{className:"snb-marketing-table-wrapper",children:(0,a.jsxs)("table",{className:"snb-marketing-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"#"}),(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Brand"}),(0,a.jsx)("th",{children:"State"}),(0,a.jsx)("th",{children:"City"}),(0,a.jsx)("th",{children:"Services"}),(0,a.jsx)("th",{children:"Contact"}),(0,a.jsx)("th",{children:"Email"}),(0,a.jsx)("th",{children:"Inquiry Date"})]})}),(0,a.jsxs)("tbody",{children:[e.map((e,t)=>{var s,i;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t+1}),(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.brand_name}),(0,a.jsx)("td",{children:e.state_name}),(0,a.jsx)("td",{children:e.city_name}),(0,a.jsx)("td",{children:e.services}),(0,a.jsx)("td",{children:null!==(s=n[e.id])&&void 0!==s&&s.contact?e.contact:(0,a.jsx)("button",{onClick:()=>l(e.id,"contact"),className:"snb-show-btn",children:"Show"})}),(0,a.jsx)("td",{children:null!==(i=n[e.id])&&void 0!==i&&i.email?e.email:(0,a.jsx)("button",{onClick:()=>l(e.id,"email"),className:"snb-show-btn",children:"Show"})}),(0,a.jsx)("td",{children:e.created_at})]},e.id)}),0===e.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"9",style:{textAlign:"center"},children:"No inquiries found."})})]})]})})]})]})}}}]);
//# sourceMappingURL=2867.2088162f.chunk.js.map